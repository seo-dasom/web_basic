<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>JavaScript</title>
    <link type="text/css" rel="stylesheet" href="/web03/css/init.css">
    <link type="text/css" rel="stylesheet" href="/web03/css/layout.css">
    <link type="text/css" rel="stylesheet" href="/web03/css/navigation.css">
    <link type="text/css" rel="stylesheet"
    href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/ocean.min.css">
    <script type="text/javascript" src="/web03/js/exercise.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
</head>
<body>
    <header>
        <nav class="top-nav">
            <ul class="top-nav-menu bg-color-blue">
                <li class="top-nav-item"><a href="/web03/Logo.html">로고</a></li>
                <li class="top-nav-item"><a href="/web03/HTML.html">HTML</a></li>
                <li class="top-nav-item"><a href="/web03/CSS.html">CSS</a></li>
                <li class="top-nav-item active"><a href="/web03/Main.html">JavaScript</a></li>
            </ul>
        </nav>
    </header>
    <section class="container">
        <h1 class="under-line">활용 8</h1>
        <p>선택박스로 현재년에서 -20년 까지 생성 후 마지막 년도를 선택할 때 추가로 -10년 생성하기.</p>
        <article class="exercise">
            <select id="exec8" onfocus="exercise8(this);">
                <option value="year">년도</option>
            </select>
        </article>
        <article class="code">
            <p class="html">
&lt;select id="exec8" onfocus="exercise8(this);">
    &lt;option value="year">년도&lt;/option>
&lt;/select>
            </p>
        </article>
        <pre>
            <code class="js">
function exercise8(node) {
    let date = new Date();
    if (node.children.length <= 1) {
        for(let year = date.getFullYear(); year > date.getFullYear() - 20; year--) {
            let option = $("&lt;option>&lt;/option>")
            option.attr("value", year);
            option.text(year);
            $(node).append(option);
        }
    }
    $(node).on('change', function() {
        if ($(this).children().last().val() == $(this).val()) {
            for(let year = $(this).val() - 1; year > $(this).val() - 11; year--) {
                let option = $("&lt;option>&lt;/option>")
                option.attr("value", year);
                option.text(year);
                $(this).append(option);
            }
        }
    });
}
            </code>
        </pre>
    </section>
</body>
<script>hljs.highlightAll();</script>
</html>